glabel func_80004668
/* 005268 80004668 27BDFF80 */  addiu $sp, $sp, -0x80
/* 00526C 8000466C AFB1001C */  sw    $s1, 0x1c($sp)
/* 005270 80004670 00058C00 */  sll   $s1, $a1, 0x10
/* 005274 80004674 00117403 */  sra   $t6, $s1, 0x10
/* 005278 80004678 AFBE0038 */  sw    $fp, 0x38($sp)
/* 00527C 8000467C AFB70034 */  sw    $s7, 0x34($sp)
/* 005280 80004680 AFB40028 */  sw    $s4, 0x28($sp)
/* 005284 80004684 30DE00FF */  andi  $fp, $a2, 0xff
/* 005288 80004688 01C08825 */  move  $s1, $t6
/* 00528C 8000468C AFBF003C */  sw    $ra, 0x3c($sp)
/* 005290 80004690 AFB60030 */  sw    $s6, 0x30($sp)
/* 005294 80004694 AFB5002C */  sw    $s5, 0x2c($sp)
/* 005298 80004698 AFB30024 */  sw    $s3, 0x24($sp)
/* 00529C 8000469C AFB20020 */  sw    $s2, 0x20($sp)
/* 0052A0 800046A0 AFB00018 */  sw    $s0, 0x18($sp)
/* 0052A4 800046A4 AFA50084 */  sw    $a1, 0x84($sp)
/* 0052A8 800046A8 AFA60088 */  sw    $a2, 0x88($sp)
/* 0052AC 800046AC AFA7008C */  sw    $a3, 0x8c($sp)
/* 0052B0 800046B0 0000B825 */  move  $s7, $zero
/* 0052B4 800046B4 A7A0006E */  sh    $zero, 0x6e($sp)
/* 0052B8 800046B8 15C00003 */  bnez  $t6, .L800046C8
/* 0052BC 800046BC 0000A025 */   move  $s4, $zero
/* 0052C0 800046C0 10000066 */  b     .L8000485C
/* 0052C4 800046C4 00001025 */   move  $v0, $zero
.L800046C8:
/* 0052C8 800046C8 3C15800E */  lui   $s5, %hi(D_800DC6BC) # $s5, 0x800e
/* 0052CC 800046CC 8FB30064 */  lw    $s3, 0x64($sp)
/* 0052D0 800046D0 26B5C6BC */  addiu $s5, %lo(D_800DC6BC) # addiu $s5, $s5, -0x3944
/* 0052D4 800046D4 AFA40080 */  sw    $a0, 0x80($sp)
/* 0052D8 800046D8 27B60050 */  addiu $s6, $sp, 0x50
/* 0052DC 800046DC 8FA40080 */  lw    $a0, 0x80($sp)
.L800046E0:
/* 0052E0 800046E0 0011C080 */  sll   $t8, $s1, 2
/* 0052E4 800046E4 8C8F000C */  lw    $t7, 0xc($a0)
/* 0052E8 800046E8 00000000 */  nop   
/* 0052EC 800046EC 01F8C821 */  addu  $t9, $t7, $t8
/* 0052F0 800046F0 8F32000C */  lw    $s2, 0xc($t9)
/* 0052F4 800046F4 0C0010E1 */  jal   func_80004384
/* 0052F8 800046F8 02402825 */   move  $a1, $s2
/* 0052FC 800046FC 1040002C */  beqz  $v0, .L800047B0
/* 005300 80004700 00408025 */   move  $s0, $v0
/* 005304 80004704 8EA80000 */  lw    $t0, ($s5)
/* 005308 80004708 24090001 */  li    $t1, 1
/* 00530C 8000470C AD02003C */  sw    $v0, 0x3c($t0)
/* 005310 80004710 A7A90050 */  sh    $t1, 0x50($sp)
/* 005314 80004714 AFA20054 */  sw    $v0, 0x54($sp)
/* 005318 80004718 8E4A0004 */  lw    $t2, 4($s2)
/* 00531C 8000471C 26860001 */  addiu $a2, $s4, 1
/* 005320 80004720 91530001 */  lbu   $s3, 1($t2)
/* 005324 80004724 02C02825 */  move  $a1, $s6
/* 005328 80004728 00135980 */  sll   $t3, $s3, 6
/* 00532C 8000472C 01735821 */  addu  $t3, $t3, $s3
/* 005330 80004730 000B58C0 */  sll   $t3, $t3, 3
/* 005334 80004734 01735821 */  addu  $t3, $t3, $s3
/* 005338 80004738 000B5880 */  sll   $t3, $t3, 2
/* 00533C 8000473C 01735823 */  subu  $t3, $t3, $s3
/* 005340 80004740 000B5880 */  sll   $t3, $t3, 2
/* 005344 80004744 01735821 */  addu  $t3, $t3, $s3
/* 005348 80004748 000B5880 */  sll   $t3, $t3, 2
/* 00534C 8000474C 01735821 */  addu  $t3, $t3, $s3
/* 005350 80004750 13C00002 */  beqz  $fp, .L8000475C
/* 005354 80004754 01609825 */   move  $s3, $t3
/* 005358 80004758 A05E0036 */  sb    $fp, 0x36($v0)
.L8000475C:
/* 00535C 8000475C 904C003E */  lbu   $t4, 0x3e($v0)
/* 005360 80004760 00000000 */  nop   
/* 005364 80004764 318D0010 */  andi  $t5, $t4, 0x10
/* 005368 80004768 11A0000C */  beqz  $t5, .L8000479C
/* 00536C 8000476C 00000000 */   nop   
/* 005370 80004770 920E003E */  lbu   $t6, 0x3e($s0)
/* 005374 80004774 02C02825 */  move  $a1, $s6
/* 005378 80004778 31CFFFEF */  andi  $t7, $t6, 0xffef
/* 00537C 8000477C A20F003E */  sb    $t7, 0x3e($s0)
/* 005380 80004780 8EA40000 */  lw    $a0, ($s5)
/* 005384 80004784 0C03246B */  jal   alEvtqPostEvent
/* 005388 80004788 24840014 */   addiu $a0, $a0, 0x14
/* 00538C 8000478C 26780001 */  addiu $t8, $s3, 1
/* 005390 80004790 AFB80068 */  sw    $t8, 0x68($sp)
/* 005394 80004794 10000005 */  b     .L800047AC
/* 005398 80004798 A7B1006E */   sh    $s1, 0x6e($sp)
.L8000479C:
/* 00539C 8000479C 8EA40000 */  lw    $a0, ($s5)
/* 0053A0 800047A0 26660001 */  addiu $a2, $s3, 1
/* 0053A4 800047A4 0C03246B */  jal   alEvtqPostEvent
/* 0053A8 800047A8 24840014 */   addiu $a0, $a0, 0x14
.L800047AC:
/* 0053AC 800047AC 0200B825 */  move  $s7, $s0
.L800047B0:
/* 0053B0 800047B0 8E420004 */  lw    $v0, 4($s2)
/* 0053B4 800047B4 0293A021 */  addu  $s4, $s4, $s3
/* 0053B8 800047B8 90480002 */  lbu   $t0, 2($v0)
/* 0053BC 800047BC 90590000 */  lbu   $t9, ($v0)
/* 0053C0 800047C0 310900C0 */  andi  $t1, $t0, 0xc0
/* 0053C4 800047C4 00095080 */  sll   $t2, $t1, 2
/* 0053C8 800047C8 032A8821 */  addu  $s1, $t9, $t2
/* 0053CC 800047CC 00115C00 */  sll   $t3, $s1, 0x10
/* 0053D0 800047D0 000B8C03 */  sra   $s1, $t3, 0x10
/* 0053D4 800047D4 12200004 */  beqz  $s1, .L800047E8
/* 0053D8 800047D8 00000000 */   nop   
/* 0053DC 800047DC 1600FFC0 */  bnez  $s0, .L800046E0
/* 0053E0 800047E0 8FA40080 */   lw    $a0, 0x80($sp)
/* 0053E4 800047E4 AFB30064 */  sw    $s3, 0x64($sp)
.L800047E8:
/* 0053E8 800047E8 12E00018 */  beqz  $s7, .L8000484C
/* 0053EC 800047EC 8FAC008C */   lw    $t4, 0x8c($sp)
/* 0053F0 800047F0 92ED003E */  lbu   $t5, 0x3e($s7)
/* 0053F4 800047F4 24190200 */  li    $t9, 512
/* 0053F8 800047F8 35AE0001 */  ori   $t6, $t5, 1
/* 0053FC 800047FC A2EE003E */  sb    $t6, 0x3e($s7)
/* 005400 80004800 8FAF008C */  lw    $t7, 0x8c($sp)
/* 005404 80004804 35C90010 */  ori   $t1, $t6, 0x10
/* 005408 80004808 AEEF0030 */  sw    $t7, 0x30($s7)
/* 00540C 8000480C 87B8006E */  lh    $t8, 0x6e($sp)
/* 005410 80004810 27A50040 */  addiu $a1, $sp, 0x40
/* 005414 80004814 1300000D */  beqz  $t8, .L8000484C
/* 005418 80004818 8FAC008C */   lw    $t4, 0x8c($sp)
/* 00541C 8000481C A2E9003E */  sb    $t1, 0x3e($s7)
/* 005420 80004820 87AA006E */  lh    $t2, 0x6e($sp)
/* 005424 80004824 8FAB0080 */  lw    $t3, 0x80($sp)
/* 005428 80004828 8EA40000 */  lw    $a0, ($s5)
/* 00542C 8000482C 8FA60068 */  lw    $a2, 0x68($sp)
/* 005430 80004830 A7B90040 */  sh    $t9, 0x40($sp)
/* 005434 80004834 AFB70044 */  sw    $s7, 0x44($sp)
/* 005438 80004838 AFAA0048 */  sw    $t2, 0x48($sp)
/* 00543C 8000483C AFAB004C */  sw    $t3, 0x4c($sp)
/* 005440 80004840 0C03246B */  jal   alEvtqPostEvent
/* 005444 80004844 24840014 */   addiu $a0, $a0, 0x14
/* 005448 80004848 8FAC008C */  lw    $t4, 0x8c($sp)
.L8000484C:
/* 00544C 8000484C 02E01025 */  move  $v0, $s7
/* 005450 80004850 11800002 */  beqz  $t4, .L8000485C
/* 005454 80004854 00000000 */   nop   
/* 005458 80004858 AD970000 */  sw    $s7, ($t4)
.L8000485C:
/* 00545C 8000485C 8FBF003C */  lw    $ra, 0x3c($sp)
/* 005460 80004860 8FB00018 */  lw    $s0, 0x18($sp)
/* 005464 80004864 8FB1001C */  lw    $s1, 0x1c($sp)
/* 005468 80004868 8FB20020 */  lw    $s2, 0x20($sp)
/* 00546C 8000486C 8FB30024 */  lw    $s3, 0x24($sp)
/* 005470 80004870 8FB40028 */  lw    $s4, 0x28($sp)
/* 005474 80004874 8FB5002C */  lw    $s5, 0x2c($sp)
/* 005478 80004878 8FB60030 */  lw    $s6, 0x30($sp)
/* 00547C 8000487C 8FB70034 */  lw    $s7, 0x34($sp)
/* 005480 80004880 8FBE0038 */  lw    $fp, 0x38($sp)
/* 005484 80004884 03E00008 */  jr    $ra
/* 005488 80004888 27BD0080 */   addiu $sp, $sp, 0x80

