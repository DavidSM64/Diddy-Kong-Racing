.late_rodata
glabel D_800E4F10
.float -100000.0

.text
glabel func_80008174
/* 008D74 80008174 27BDFFC0 */  addiu $sp, $sp, -0x40
/* 008D78 80008178 3C038012 */  lui   $v1, %hi(gFreeMasks) # $v1, 0x8012
/* 008D7C 8000817C 3C048012 */  lui   $a0, %hi(gSoundMaskHeap) # $a0, 0x8012
/* 008D80 80008180 300200FF */  andi  $v0, $zero, 0xff
/* 008D84 80008184 24639C4C */  addiu $v1, %lo(gFreeMasks) # addiu $v1, $v1, -0x63b4
/* 008D88 80008188 8C849C48 */  lw    $a0, %lo(gSoundMaskHeap)($a0)
/* 008D8C 8000818C 28410028 */  slti  $at, $v0, 0x28
/* 008D90 80008190 AFBF003C */  sw    $ra, 0x3c($sp)
/* 008D94 80008194 AFB60038 */  sw    $s6, 0x38($sp)
/* 008D98 80008198 AFB50034 */  sw    $s5, 0x34($sp)
/* 008D9C 8000819C AFB40030 */  sw    $s4, 0x30($sp)
/* 008DA0 800081A0 AFB3002C */  sw    $s3, 0x2c($sp)
/* 008DA4 800081A4 AFB20028 */  sw    $s2, 0x28($sp)
/* 008DA8 800081A8 AFB10024 */  sw    $s1, 0x24($sp)
/* 008DAC 800081AC AFB00020 */  sw    $s0, 0x20($sp)
/* 008DB0 800081B0 E7B50018 */  swc1  $f21, 0x18($sp)
/* 008DB4 800081B4 E7B4001C */  swc1  $f20, 0x1c($sp)
/* 008DB8 800081B8 1020000E */  beqz  $at, .L800081F4
/* 008DBC 800081BC A0600000 */   sb    $zero, ($v1)
/* 008DC0 800081C0 3C058012 */  lui   $a1, %hi(gSoundMaskHeapFree) # $a1, 0x8012
/* 008DC4 800081C4 24A59C50 */  addiu $a1, %lo(gSoundMaskHeapFree) # addiu $a1, $a1, -0x63b0
.L800081C8:
/* 008DC8 800081C8 8CAE0000 */  lw    $t6, ($a1)
/* 008DCC 800081CC 00027880 */  sll   $t7, $v0, 2
/* 008DD0 800081D0 01CFC021 */  addu  $t8, $t6, $t7
/* 008DD4 800081D4 AF040000 */  sw    $a0, ($t8)
/* 008DD8 800081D8 90790000 */  lbu   $t9, ($v1)
/* 008DDC 800081DC 24840024 */  addiu $a0, $a0, 0x24
/* 008DE0 800081E0 27290001 */  addiu $t1, $t9, 1
/* 008DE4 800081E4 312200FF */  andi  $v0, $t1, 0xff
/* 008DE8 800081E8 28410028 */  slti  $at, $v0, 0x28
/* 008DEC 800081EC 1420FFF6 */  bnez  $at, .L800081C8
/* 008DF0 800081F0 A0690000 */   sb    $t1, ($v1)
.L800081F4:
/* 008DF4 800081F4 3C14800E */  lui   $s4, %hi(gUsedMasks) # $s4, 0x800e
/* 008DF8 800081F8 2694C6E0 */  addiu $s4, %lo(gUsedMasks) # addiu $s4, $s4, -0x3920
/* 008DFC 800081FC 968B0000 */  lhu   $t3, ($s4)
/* 008E00 80008200 244AFFFF */  addiu $t2, $v0, -1
/* 008E04 80008204 A06A0000 */  sb    $t2, ($v1)
/* 008E08 80008208 19600014 */  blez  $t3, .L8000825C
/* 008E0C 8000820C 00008825 */   move  $s1, $zero
/* 008E10 80008210 3C128012 */  lui   $s2, %hi(gSoundMaskHeapUsed) # $s2, 0x8012
/* 008E14 80008214 26529C44 */  addiu $s2, %lo(gSoundMaskHeapUsed) # addiu $s2, $s2, -0x63bc
/* 008E18 80008218 00008025 */  move  $s0, $zero
.L8000821C:
/* 008E1C 8000821C 8E4C0000 */  lw    $t4, ($s2)
/* 008E20 80008220 00000000 */  nop   
/* 008E24 80008224 01906821 */  addu  $t5, $t4, $s0
/* 008E28 80008228 8DA20000 */  lw    $v0, ($t5)
/* 008E2C 8000822C 00000000 */  nop   
/* 008E30 80008230 8C440018 */  lw    $a0, 0x18($v0)
/* 008E34 80008234 A0400012 */  sb    $zero, 0x12($v0)
/* 008E38 80008238 10800003 */  beqz  $a0, .L80008248
/* 008E3C 8000823C 00000000 */   nop   
/* 008E40 80008240 0C001223 */  jal   func_8000488C
/* 008E44 80008244 00000000 */   nop   
.L80008248:
/* 008E48 80008248 968E0000 */  lhu   $t6, ($s4)
/* 008E4C 8000824C 26310001 */  addiu $s1, $s1, 1
/* 008E50 80008250 022E082A */  slt   $at, $s1, $t6
/* 008E54 80008254 1420FFF1 */  bnez  $at, .L8000821C
/* 008E58 80008258 26100004 */   addiu $s0, $s0, 4
.L8000825C:
/* 008E5C 8000825C A6800000 */  sh    $zero, ($s4)
/* 008E60 80008260 3C01800E */  lui   $at, %hi(D_800E4F10) # $at, 0x800e
/* 008E64 80008264 3C118012 */  lui   $s1, %hi(D_80119C58) # $s1, 0x8012
/* 008E68 80008268 3C128012 */  lui   $s2, %hi(D_80119C5C) # $s2, 0x8012
/* 008E6C 8000826C 3C138012 */  lui   $s3, %hi(D_80119C60) # $s3, 0x8012
/* 008E70 80008270 3C158012 */  lui   $s5, %hi(D_8011A6E0) # $s5, 0x8012
/* 008E74 80008274 C4344F10 */  lwc1  $f20, %lo(D_800E4F10)($at)
/* 008E78 80008278 26B5A6E0 */  addiu $s5, %lo(D_8011A6E0) # addiu $s5, $s5, -0x5920
/* 008E7C 8000827C 26739C60 */  addiu $s3, %lo(D_80119C60) # addiu $s3, $s3, -0x63a0
/* 008E80 80008280 26529C5C */  addiu $s2, %lo(D_80119C5C) # addiu $s2, $s2, -0x63a4
/* 008E84 80008284 26319C58 */  addiu $s1, %lo(D_80119C58) # addiu $s1, $s1, -0x63a8
/* 008E88 80008288 2414FFFF */  li    $s4, -1
/* 008E8C 8000828C 24160001 */  li    $s6, 1
/* 008E90 80008290 2410001E */  li    $s0, 30
.L80008294:
/* 008E94 80008294 8E240178 */  lw    $a0, 0x178($s1)
/* 008E98 80008298 AE20016C */  sw    $zero, 0x16c($s1)
/* 008E9C 8000829C 1080000E */  beqz  $a0, .L800082D8
/* 008EA0 800082A0 00000000 */   nop   
/* 008EA4 800082A4 92220000 */  lbu   $v0, ($s1)
/* 008EA8 800082A8 00000000 */  nop   
/* 008EAC 800082AC 14400005 */  bnez  $v0, .L800082C4
/* 008EB0 800082B0 00000000 */   nop   
/* 008EB4 800082B4 0C001223 */  jal   func_8000488C
/* 008EB8 800082B8 00000000 */   nop   
/* 008EBC 800082BC 10000006 */  b     .L800082D8
/* 008EC0 800082C0 AE200178 */   sw    $zero, 0x178($s1)
.L800082C4:
/* 008EC4 800082C4 16C20003 */  bne   $s6, $v0, .L800082D4
/* 008EC8 800082C8 00000000 */   nop   
/* 008ECC 800082CC 0C000638 */  jal   music_jingle_stop
/* 008ED0 800082D0 00000000 */   nop   
.L800082D4:
/* 008ED4 800082D4 AE200178 */  sw    $zero, 0x178($s1)
.L800082D8:
/* 008ED8 800082D8 A234017C */  sb    $s4, 0x17c($s1)
/* 008EDC 800082DC E6540000 */  swc1  $f20, ($s2)
/* 008EE0 800082E0 02601025 */  move  $v0, $s3
/* 008EE4 800082E4 E6740000 */  swc1  $f20, ($s3)
/* 008EE8 800082E8 E4540010 */  swc1  $f20, 0x10($v0)
/* 008EEC 800082EC E454000C */  swc1  $f20, 0xc($v0)
/* 008EF0 800082F0 E4540008 */  swc1  $f20, 8($v0)
/* 008EF4 800082F4 E4540004 */  swc1  $f20, 4($v0)
/* 008EF8 800082F8 24420014 */  addiu $v0, $v0, 0x14
/* 008EFC 800082FC 24030002 */  li    $v1, 2
.L80008300:
/* 008F00 80008300 24630004 */  addiu $v1, $v1, 4
/* 008F04 80008304 E454000C */  swc1  $f20, 0xc($v0)
/* 008F08 80008308 E4540010 */  swc1  $f20, 0x10($v0)
/* 008F0C 8000830C E4540014 */  swc1  $f20, 0x14($v0)
/* 008F10 80008310 E4540018 */  swc1  $f20, 0x18($v0)
/* 008F14 80008314 E454001C */  swc1  $f20, 0x1c($v0)
/* 008F18 80008318 E4540020 */  swc1  $f20, 0x20($v0)
/* 008F1C 8000831C E4540024 */  swc1  $f20, 0x24($v0)
/* 008F20 80008320 E4540028 */  swc1  $f20, 0x28($v0)
/* 008F24 80008324 E454002C */  swc1  $f20, 0x2c($v0)
/* 008F28 80008328 24420030 */  addiu $v0, $v0, 0x30
/* 008F2C 8000832C E454FFD0 */  swc1  $f20, -0x30($v0)
/* 008F30 80008330 E454FFD4 */  swc1  $f20, -0x2c($v0)
/* 008F34 80008334 1470FFF2 */  bne   $v1, $s0, .L80008300
/* 008F38 80008338 E454FFD8 */   swc1  $f20, -0x28($v0)
/* 008F3C 8000833C 26730180 */  addiu $s3, $s3, 0x180
/* 008F40 80008340 0275082B */  sltu  $at, $s3, $s5
/* 008F44 80008344 26310180 */  addiu $s1, $s1, 0x180
/* 008F48 80008348 1420FFD2 */  bnez  $at, .L80008294
/* 008F4C 8000834C 26520180 */   addiu $s2, $s2, 0x180
/* 008F50 80008350 3C058012 */  lui   $a1, %hi(D_8011A6D8) # $a1, 0x8012
/* 008F54 80008354 3C068012 */  lui   $a2, %hi(D_8011A6DC) # $a2, 0x8012
/* 008F58 80008358 3C078012 */  lui   $a3, %hi(D_8011A6E0) # $a3, 0x8012
/* 008F5C 8000835C 3C088012 */  lui   $t0, %hi(D_8011AC20) # $t0, 0x8012
/* 008F60 80008360 44800000 */  mtc1  $zero, $f0
/* 008F64 80008364 2508AC20 */  addiu $t0, %lo(D_8011AC20) # addiu $t0, $t0, -0x53e0
/* 008F68 80008368 24E7A6E0 */  addiu $a3, %lo(D_8011A6E0) # addiu $a3, $a3, -0x5920
/* 008F6C 8000836C 24C6A6DC */  addiu $a2, %lo(D_8011A6DC) # addiu $a2, $a2, -0x5924
/* 008F70 80008370 24A5A6D8 */  addiu $a1, %lo(D_8011A6D8) # addiu $a1, $a1, -0x5928
/* 008F74 80008374 2404000F */  li    $a0, 15
.L80008378:
/* 008F78 80008378 A0B400B8 */  sb    $s4, 0xb8($a1)
/* 008F7C 8000837C A0A00000 */  sb    $zero, ($a1)
/* 008F80 80008380 E4A000BC */  swc1  $f0, 0xbc($a1)
/* 008F84 80008384 E4D40000 */  swc1  $f20, ($a2)
/* 008F88 80008388 00E01025 */  move  $v0, $a3
/* 008F8C 8000838C E4F40000 */  swc1  $f20, ($a3)
/* 008F90 80008390 E454001C */  swc1  $f20, 0x1c($v0)
/* 008F94 80008394 E4540018 */  swc1  $f20, 0x18($v0)
/* 008F98 80008398 E4540014 */  swc1  $f20, 0x14($v0)
/* 008F9C 8000839C E4540010 */  swc1  $f20, 0x10($v0)
/* 008FA0 800083A0 E454000C */  swc1  $f20, 0xc($v0)
/* 008FA4 800083A4 E4540008 */  swc1  $f20, 8($v0)
/* 008FA8 800083A8 E4540004 */  swc1  $f20, 4($v0)
/* 008FAC 800083AC 24420020 */  addiu $v0, $v0, 0x20
/* 008FB0 800083B0 24030003 */  li    $v1, 3
.L800083B4:
/* 008FB4 800083B4 24630004 */  addiu $v1, $v1, 4
/* 008FB8 800083B8 E454000C */  swc1  $f20, 0xc($v0)
/* 008FBC 800083BC E4540010 */  swc1  $f20, 0x10($v0)
/* 008FC0 800083C0 E4540014 */  swc1  $f20, 0x14($v0)
/* 008FC4 800083C4 E4540018 */  swc1  $f20, 0x18($v0)
/* 008FC8 800083C8 E454001C */  swc1  $f20, 0x1c($v0)
/* 008FCC 800083CC E4540020 */  swc1  $f20, 0x20($v0)
/* 008FD0 800083D0 E4540024 */  swc1  $f20, 0x24($v0)
/* 008FD4 800083D4 E4540028 */  swc1  $f20, 0x28($v0)
/* 008FD8 800083D8 E454002C */  swc1  $f20, 0x2c($v0)
/* 008FDC 800083DC 24420030 */  addiu $v0, $v0, 0x30
/* 008FE0 800083E0 E454FFD0 */  swc1  $f20, -0x30($v0)
/* 008FE4 800083E4 E454FFD4 */  swc1  $f20, -0x2c($v0)
/* 008FE8 800083E8 1464FFF2 */  bne   $v1, $a0, .L800083B4
/* 008FEC 800083EC E454FFD8 */   swc1  $f20, -0x28($v0)
/* 008FF0 800083F0 24E700C0 */  addiu $a3, $a3, 0xc0
/* 008FF4 800083F4 24A500C0 */  addiu $a1, $a1, 0xc0
/* 008FF8 800083F8 14E8FFDF */  bne   $a3, $t0, .L80008378
/* 008FFC 800083FC 24C600C0 */   addiu $a2, $a2, 0xc0
/* 009000 80008400 8FBF003C */  lw    $ra, 0x3c($sp)
/* 009004 80008404 3C018012 */  lui   $at, %hi(D_8011AC18) # $at, 0x8012
/* 009008 80008408 C7B50018 */  lwc1  $f21, 0x18($sp)
/* 00900C 8000840C C7B4001C */  lwc1  $f20, 0x1c($sp)
/* 009010 80008410 8FB00020 */  lw    $s0, 0x20($sp)
/* 009014 80008414 8FB10024 */  lw    $s1, 0x24($sp)
/* 009018 80008418 8FB20028 */  lw    $s2, 0x28($sp)
/* 00901C 8000841C 8FB3002C */  lw    $s3, 0x2c($sp)
/* 009020 80008420 8FB40030 */  lw    $s4, 0x30($sp)
/* 009024 80008424 8FB50034 */  lw    $s5, 0x34($sp)
/* 009028 80008428 8FB60038 */  lw    $s6, 0x38($sp)
/* 00902C 8000842C A020AC18 */  sb    $zero, %lo(D_8011AC18)($at)
/* 009030 80008430 03E00008 */  jr    $ra
/* 009034 80008434 27BD0040 */   addiu $sp, $sp, 0x40

